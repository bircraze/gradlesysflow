project.ext {
    tpl_env_default = [
        parties: genSubList(), 
        steps: [
            reset: [
                parallel: true,
                commom: true,
                cmd: "git",
                args: ["reset", "--hard"]
            ],
            checkout: [
                parallel: true,
                cmd: "git",
                args: ["checkout"],
                tag: "OVERRIDE" 
            ],
            mytest: [
                parallel: true,
                commom: true,
                cmd: "gradle",
                args: ["myTest"]
            ],
            step3: [
                params: "p3",
            ]
        ]
    ]
}

def genSubList() {
    def subArr = []
    for (each in subprojects) {
        subArr.add((String) each)
    }
    
    return subArr.collect { it.split(":")[1].replaceAll("\'", "") }
}
